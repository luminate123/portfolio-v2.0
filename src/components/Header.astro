---
---
<header class="fixed top-0 left-0 w-full z-50 transition-all duration-400" id="main-header">
    <div class="max-w-[1200px] mx-auto px-4 md:px-6 lg:px-8 flex items-center justify-between h-16">
        <a href="#" class="text-xl font-bold text-white flex items-center">
            <span class="typing-text"></span><span class="cursor-blink">&nbsp;</span>
        </a>

        <button class="mobile-menu-btn md:hidden flex flex-col justify-center gap-[5px] w-10 h-10 bg-white/5 border border-white/10 rounded-lg p-2 cursor-pointer" aria-label="Menu">
            <span class="w-full h-[2px] bg-white rounded transition-all duration-300 origin-center"></span>
            <span class="w-full h-[2px] bg-white rounded transition-all duration-300 origin-center"></span>
            <span class="w-full h-[2px] bg-white rounded transition-all duration-300 origin-center"></span>
        </button>

        <nav class="nav-links hidden md:flex gap-8 items-center">
            <a href="#about" class="text-sm font-medium text-zinc-400 hover:text-white transition-colors relative py-1 nav-link">Sobre mí</a>
            <a href="#projects" class="text-sm font-medium text-zinc-400 hover:text-white transition-colors relative py-1 nav-link">Proyectos</a>
            <a href="#contact" class="px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg text-sm font-semibold hover:-translate-y-0.5 transition-all shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50">Contacto</a>
        </nav>
    </div>
</header>

<script>
    const text = "Sebastian.dev";
    const typingElement = document.querySelector('.typing-text');
    const header = document.getElementById('main-header');
    let charIndex = 0;
    let isDeleting = false;
    let lastScrollY = window.scrollY;

    const menuBtn = document.querySelector('.mobile-menu-btn');
    const nav = document.querySelector('.nav-links');

    menuBtn?.addEventListener('click', () => {
        menuBtn.classList.toggle('active');
        nav?.classList.toggle('mobile-open');
    });

    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            menuBtn?.classList.remove('active');
            nav?.classList.remove('mobile-open');
        });
    });

    function typeEffect() {
        if (!typingElement) return;
        const currentString = text.substring(0, charIndex);
        if (currentString.includes('.')) {
            typingElement.innerHTML = currentString.replace('.', '<span class="text-blue-500">.</span>');
        } else {
            typingElement.textContent = currentString;
        }
        let typeSpeed = 150;
        if (!isDeleting && charIndex < text.length) {
            charIndex++;
            typeSpeed = 150;
        } else if (isDeleting && charIndex > 0) {
            charIndex--;
            typeSpeed = 100;
        } else {
            isDeleting = !isDeleting;
            typeSpeed = isDeleting ? 2000 : 500;
        }
        setTimeout(typeEffect, typeSpeed);
    }

    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            header?.classList.add('header-scrolled');
        } else {
            header?.classList.remove('header-scrolled');
        }
        if (window.scrollY > lastScrollY && window.scrollY > 100) {
            header?.classList.add('-translate-y-full');
        } else {
            header?.classList.remove('-translate-y-full');
        }
        lastScrollY = window.scrollY;
    });

    document.addEventListener('DOMContentLoaded', () => {
        typeEffect();
    });
</script>

<style>
    #main-header {
        background: rgba(6, 6, 10, 0.6);
        backdrop-filter: blur(8px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    }

    .header-scrolled {
        background: rgba(6, 6, 10, 0.9) !important;
        backdrop-filter: blur(20px) !important;
        border-bottom-color: rgba(59, 130, 246, 0.15) !important;
    }

    .cursor-blink {
        display: inline-block;
        width: 2px;
        height: 1.25rem;
        background: #3b82f6;
        margin-left: 3px;
        animation: blink 1s infinite;
    }

    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }

    .nav-link::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #3b82f6, #06b6d4);
        transition: width 0.3s ease;
    }

    .nav-link:hover::after {
        width: 100%;
    }

    /* Mobile menu */
    @media (max-width: 768px) {
        .nav-links.mobile-open {
            display: flex;
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 280px;
            max-width: 80%;
            background: rgba(6, 6, 10, 0.98);
            backdrop-filter: blur(20px);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            z-index: 101;
            border-left: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
        }

        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }
        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }
    }
</style>
